<!DOCTYPE html>
<html lang="pt-br">   
<head>
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">      
    <title>Atacado | Miquely Modas Lingerie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="icon" type="image/jpeg" href="https://novidadesnaloja.moda/clientes/47149826000180_20240122230901.jpeg" />

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap');
        body { font-family: 'Montserrat', sans-serif; }
        .promo-bar { background-color: #000; color: #fff; font-size: 11px; padding: 6px 0; text-align: center; text-transform: uppercase; letter-spacing: 2px; }
        .cart-sidebar { transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        /* Imagens Arredondadas e Efeito Flutuante */
        .product-img { transition: transform 0.5s ease; border-radius: 1.5rem; }
        .product-card { transition: all 0.3s ease; }
        .product-card:hover { transform: translateY(-10px); }
        .product-card:hover .product-img { transform: scale(1.02); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        
        .min-order-alert { font-size: 10px; font-weight: bold; text-transform: uppercase; }
        #main-carousel img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.2s ease-in-out; }
        #main-carousel img.active { opacity: 1; }
        .attr-select { background: white; border: 1px solid #ddd; font-size: 9px; padding: 4px; margin-bottom: 4px; text-transform: uppercase; font-weight: bold; width: 100%; cursor: pointer; border-radius: 4px; }
        
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .animate-float { animation: float 3s ease-in-out infinite; }
        @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 5px rgba(219, 39, 119, 0.4); opacity: 1; } 50% { box-shadow: 0 0 25px rgba(219, 39, 119, 0.8); opacity: 0.8; } }
        .animate-pulse-glow { animation: pulse-glow 2s infinite; }

        /* Estilo dos Mini Cartões 3D no Rodapé */
        .card-3d {
            background: #fff;
            padding: 6px;
            border-radius: 6px;
            box-shadow: 0 3px 0px #d1d5db;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #e5e7eb;
        }
        .card-3d:hover { transform: translateY(-2px); box-shadow: 0 5px 0px #db2777; border-color: #fbcfe8; }
    </style>
</head>
<body class="bg-white">

    <header class="border-b sticky top-0 bg-white z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex gap-4 md:hidden text-xl"><i class="fa-solid fa-bars"></i></div>
            <div class="text-2xl font-bold tracking-tighter text-black uppercase">
                Miquely<span class="font-light text-pink-600">Modas</span>
            </div>
            
            <div class="flex items-center gap-5">
                <div class="relative cursor-pointer" onclick="toggleCart()">
                    <i class="fa-solid fa-bag-shopping text-2xl"></i>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-pink-600 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full font-bold">0</span>
                </div>
            </div>
        </div>
    </header>

    <section class="relative h-[55vh] md:h-[75vh] bg-gray-200 overflow-hidden" id="main-carousel">
        <a href="https://api.whatsapp.com/send/?phone=5561983446343" target="_blank">
            <img src="https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/Principal/1765913728_bannerPrincipal2.jpg" class="active">
            <img src="https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/Principal/1762972131_bannerPrincipal2.jpg">
        </a>
    </section>

    <div class="promo-bar font-bold">ATACADO - Pedido Mínimo: R$ 800,00</div>

    <main class="container mx-auto px-4 py-12 pb-32"> <h3 class="text-center text-xl font-bold mb-10 uppercase tracking-[0.3em] text-gray-800">Catálogo Disponível</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8" id="product-list"></div>
    </main>

    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-full max-w-sm bg-white shadow-2xl z-[100] translate-x-full cart-sidebar flex flex-col">
        <div class="p-6 border-b flex justify-between items-center bg-gray-50">
            <h2 class="font-bold uppercase tracking-widest text-sm text-pink-600 text-3d">Pedido de Atacado</h2>
            <button onclick="toggleCart()" class="text-2xl">&times;</button>
        </div>
        <div id="cart-content" class="flex-1 overflow-y-auto p-6 space-y-4"></div>
        <div class="p-6 border-t bg-white">
            <div class="flex justify-between font-bold text-lg mb-2">
                <span class="text-gray-500 text-sm uppercase">Subtotal:</span>
                <span id="cart-total">R$ 0,00</span>
            </div>
            <div id="min-order-msg" class="p-3 text-center mb-4 min-order-alert text-red-600"></div>
            
            <div class="bg-gray-50 text-center rounded-2xl overflow-hidden border shadow-inner">
                <button id="btn-checkout-appmax" onclick="openPaymentModal()" class="w-full bg-blue-700 text-white py-4 font-bold uppercase text-[12px] shadow-xl hover:bg-blue-800 transition-all disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>
                    Pagar com Google Pay / Pix / Cartão
                </button>
                <p class="text-[9px] py-2 text-gray-500 uppercase font-bold tracking-tighter">
                    Processado com segurança por <strong>Appmax API</strong>.
                </p>
            </div>
        </div>
    </div>

    <div id="payment-modal" class="fixed inset-0 z-[200] hidden bg-black/60 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 border-b flex justify-between items-center bg-gray-50">
                <h3 class="font-bold uppercase tracking-widest text-gray-800 text-sm">Dados de Faturamento</h3>
                <button onclick="closePaymentModal()" class="text-2xl text-gray-400 hover:text-black">&times;</button>
            </div>
            
            <div class="p-6 space-y-4">
                <div class="space-y-3">
                    <input type="text" id="cust-name" placeholder="Nome Completo" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-pink-500 outline-none transition-all text-sm">
                    <input type="email" id="cust-email" placeholder="Seu melhor E-mail" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-pink-500 outline-none transition-all text-sm">
                    <div class="grid grid-cols-2 gap-4">
                        <input type="text" id="cust-cpf" placeholder="CPF" class="border p-3 rounded-lg focus:ring-2 focus:ring-pink-500 outline-none transition-all text-sm">
                        <input type="text" id="cust-phone" placeholder="WhatsApp" class="border p-3 rounded-lg focus:ring-2 focus:ring-pink-500 outline-none transition-all text-sm">
                    </div>
                </div>

                <div class="border-t pt-4">
                    <p class="text-[10px] font-bold text-gray-400 uppercase mb-3 text-center">Métodos de Pagamento</p>
                    <div class="flex justify-center gap-4">
                        <div class="card-3d"><i class="fa-brands fa-cc-visa text-xl text-blue-800"></i></div>
                        <div class="card-3d"><i class="fa-brands fa-cc-mastercard text-xl text-red-500"></i></div>
                        <div class="card-3d"><i class="fa-solid fa-barcode text-xl text-gray-700"></i></div>
                        <div class="card-3d"><i class="fa-brands fa-pix text-xl text-teal-500"></i></div>
                    </div>
                </div>
            </div>

            <div class="p-6 bg-gray-50 border-t">
                <button onclick="confirmarDadosAppmax()" class="w-full bg-pink-600 text-white py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-pink-700 shadow-lg transition-all text-xs">
                    Confirmar e Ir para Pagamento
                </button>
            </div>
        </div>
    </div>

    <div class="fixed bottom-24 left-6 z-[100] pointer-events-auto">
        <a href="https://api.whatsapp.com/send/?phone=5561983446343" target="_blank" class="block animate-float">
            <img src="https://novidadesnaloja.moda/clientes/47149826000180_20240122230901.jpeg" class="w-16 h-16 md:w-20 md:h-20 rounded-full border-2 border-pink-500 shadow-lg animate-pulse-glow object-cover">
        </a>
    </div>

    <footer class="fixed bottom-0 left-0 w-full bg-white/90 backdrop-blur-md border-t py-3 z-[150]">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="card-3d" title="Pix"><i class="fa-brands fa-pix text-teal-500 text-sm"></i></div>
                <div class="card-3d" title="Visa"><i class="fa-brands fa-cc-visa text-blue-800 text-sm"></i></div>
                <div class="card-3d" title="Mastercard"><i class="fa-brands fa-cc-mastercard text-red-500 text-sm"></i></div>
                <div class="card-3d" title="Boleto"><i class="fa-solid fa-barcode text-gray-700 text-sm"></i></div>
                <div class="card-3d bg-green-50 border-green-200">
                    <i class="fa-solid fa-shield-check text-green-600 text-xs"></i>
                    <span class="text-[8px] font-bold text-green-700 ml-1">SEGURO</span>
                </div>
            </div>
            <div class="text-right">
                <div class="text-[12px] font-bold tracking-tighter text-black uppercase">
                    Miquely<span class="text-pink-600">Modas</span>
                </div>
                <p class="text-[7px] text-gray-400 uppercase font-bold tracking-tighter">&#174; Direitos Reservados</p>
            </div>
        </div>
    </footer>

    <script>
        const MARGEM_LUCRO = 1.50; 
        const MIN_ORDER = 800;
        let cart = [];
        let customerData = {}; 

        <script>
    function initProducts() {
        const list = document.getElementById('product-list');
        list.innerHTML = '';
        const p1Base = 25.90;
        const p1Calc = p1Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha Fio de Renda', p1Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/8/1002_preto_(1).jpg', 'manual-1');
        const p2Base = 65.77;
        const p2Calc = p2Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Tomara qCaia', p2Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/18/uploadapi_1716828210.jpeg', 'manual-2');
        const p3Base = 77.67;
        const p3Calc = p3Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Short Doll', p3Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/9/20230313152013whatsapp_image_2023-03-13_at_15.17.49_e.jpg', 'manual-3');
        const p4Base = 94.40;
        const p4Calc = p4Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Body Manga Longa', p4Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/30/20250820162500_intuicao3_32_e.jpg', 'manual-4');
        const p5Base = 58.70;
        const p5Calc = p5Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('jasmin Cropped Sem Bojo', p5Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/22/2022101311531022506_(6)_e.jpg', 'manual-5');
        const p6Base = 73.40;
        const p6Calc = p6Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore Suite Laranja', p6Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/24/20231206113500_img_7362_e1.jpg', 'manual-6');
        const p7Base = 50.40;
        const p7Calc = p7Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bralette Radiante', p7Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/24/20231206114055_img_7370_e.jpg', 'manual-7');
        const p8Base = 52.40;
        const p8Calc = p8Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore Bojo Removivel Renda', p8Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/11/20210629160317ref._4004_(1)_e.jpg', 'manual-8');
        const p9Base = 47.20;
        const p9Calc = p9Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Basic Reforçado', p9Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20230330090806whatsapp_image_2023-03-30_at_08.49.20_e1.jpeg', 'manual-9');
        const p10Base = 62.90;
        const p10Calc = p10Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjuno Bojo Renda', p10Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/11/20251202095430_intuicao_30_e.jpg', 'manual-10');
        const p11Base = 57.65;
        const p11Calc = p11Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Cropped Fetish', p11Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/15/20250522113207_img_7152_e.jpg', 'manual-11');
        const p12Base = 57.90;
        const p12Calc = p12Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conj Alto Fetish', p12Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/15/4111_(2)_ec.jpg', 'manual-12');
        const p13Base = 62.90;
        const p13Calc = p13Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore Renda e Tule', p13Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20230519102154_whatsappimage20230519at10183828129_e.jpeg', 'manual-13');
        const p14Base = 78.65;
        const p14Calc = p14Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto B.Tomara qCaia', p14Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/9/20231117163638_whatsappimage20231117at150951_e.jpeg', 'manual-14');
        const p15Base = 64.40;
        const p15Calc = p15Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Renda Encanto', p15Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/1/20251006155146_intuicao_31_e.jpg', 'manual-15');
        const p16Base = 63.69;
        const p16Calc = p16Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Cirre Elastico', p16Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/22/20231120104222_whatsappimage20231117at104556_e.jpeg', 'manual-16');
        const p17Base = 49.46;
        const p17Calc = p17Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Trad C Encaixe', p17Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20250821134227_whatsappimage20250821at120153_e.jpg', 'manual-17');
        const p18Base = 124.99;
        const p18Calc = p18Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Robe Platitude', p18Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/11/20251202101449_intuicao_1728129_e.jpg', 'manual-18');
        const p19Base = 49.80;
        const p19Calc = p19Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Top Renda', p19Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20250821090129_intuicao3_5_e.jpg', 'manual-19');
        const p20Base = 115.47;
        const p20Calc = p20Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Camisola Longa de Seda', p20Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/23/20250820174928_intuicao3_57_e.jpg', 'manual-20');
        const p21Base = 60.86;
        const p21Calc = p21Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Perola Encanto', p21Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/1/20251218144817_intuicaodez25_31_e.jpg', 'manual-21');
        const p22Base = 41.96;
        const p22Calc = p22Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Blusa M.longa Tule', p22Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/24/20231206122501_img_7426_e.jpg', 'manual-22');
        const p23Base = 64.33;
        const p23Calc = p23Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Cropped Giovanna', p23Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20250725112922_whatsappimage20250723at170229_e.jpg', 'manual-23');
        const p24Base = 74.94;
        const p24Calc = p24Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto B Stella', p24Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/26/20250820175544_intuicao3_48_e.jpg', 'manual-24');
        const p25Base = 89.28;
        const p25Calc = p25Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Cropped On Fire', p25Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/25/20250522105424_img_7142_e.jpg', 'manual-25');
        const p26Base = 68.28;
        const p26Calc = p26Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Renda Ilusion', p26Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/7/20250820173918_intuicao3_24_e.jpg', 'manual-26');
        const p27Base = 94.40;
        const p27Calc = p27Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Glomour On Fire', p27Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/25/20251218112643_intuicaodez25_7_e.jpg', 'manual-27');
        const p28Base = 62.98;
        const p28Calc = p28Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conj s/bojo c/Aro Amor', p28Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/21/20251006162203_intuicao_17_e.jpg', 'manual-28');
        const p29Base = 69.49;
        const p29Calc = p29Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conj Cropped Ilusion', p29Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/2/20250821095001_intuicao3_8_e.jpg', 'manual-29');
        const p30Base = 84.97;
        const p30Calc = p30Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Camisola Livinia', p30Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/17/20250801100605_img_8262_e.jpg', 'manual-30');
        const p31Base = 94.98;
        const p31Calc = p31Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Robe Tule Renda', p31Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/7/20251007082926_intuicao_14_e.jpg', 'manual-31');
        const p32Base = 54.64;
        const p32Calc = p32Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Bralette Radiante', p32Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/24/20231206114319_img_7343_e.jpg', 'manual-32');
        const p33Base = 74.54;
        const p33Calc = p33Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Cropped Babado', p33Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/11/20250801093940_096a9085_e.jpg', 'manual-33');
        const p34Base = 94.40;
        const p34Calc = p34Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Camisola Sensual', p34Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/28/20250715111609_img_8266_e.jpg', 'manual-34');
        const p35Base = 72.40;
        const p35Calc = p35Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore Asa Delta', p35Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/11/20250909153843_intuicaoset25_e.jpg', 'manual-35');
        const p36Base = 62.69;
        const p36Calc = p36Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore Renda Decote', p36Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20250909141405_intuicaoset25_23_e.jpg', 'manual-36');
        const p37Base = 69.00;
        const p37Calc = p37Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conj s/Bojo e c/Aro Nite', p37Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/2/20250909143127_intuicaoset25_49_e.jpg', 'manual-37');
        const p38Base = 69.48;
        const p38Calc = p38Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Soft Secret', p38Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/28/20250909144502_intuicaoset25_43_e.jpg', 'manual-38');
        const p39Base = 74.54;
        const p39Calc = p39Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Luxe Secret', p39Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/28/20251007082031_intuicao_3_e.jpg', 'manual-39');
        const p40Base = 63.88;
        const p40Calc = p40Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Conjunto Balcone', p40Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/28/20250522101047_img_716828129_e.jpg', 'manual-40');
        const p41Base = 89.49;
        const p41Calc = p41Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore s/Manga', p41Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/30/20250820164925_intuicao3_42_e.jpg', 'manual-41');
        const p42Base = 74.44;
        const p42Calc = p42Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore Mangarida Renda Tule', p42Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/22/20250821084610_intuicao3_27_e.jpg', 'manual-42');
        const p43Base = 94.40;
        const p43Calc = p43Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Bore Manga Longa', p43Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/30/20250820162500_intuicao3_32_e.jpg', 'manual-43');
        const p44Base = 47.40;
        const p44Calc = p44Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Amamentação s/Costura', p44Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/6/20220307160240whatsapp_image_2022-03-07_at_14.56.51_e.jpg', 'manual-44');
        const p45Base = 49.64;
        const p45Calc = p45Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Amamentação Bojo s/Costura', p45Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/18/uploadapi_1717558113.jpeg', 'manual-45');
        const p46Base = 54.98;
        const p46Calc = p46Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Amamentação c/Renda s/Costura', p46Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/18/uploadapi_1716580958.jpeg', 'manual-46');
        const p47Base = 52.45;
        const p47Calc = p47Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Adesivo', p47Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/18/uploadapi_1716578271.jpeg', 'manual-47');
        const p48Base = 64.48;
        const p48Calc = p48Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Power Laser', p48Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/18/uploadapi_1726157437.jpeg', 'manual-48');
        const p49Base = 69.49;
        const p49Calc = p49Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Sutiã Up Bolha', p49Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/18/uploadapi_1716834000.jpeg', 'manual-49');
        const p50Base = 16.49;
        const p50Calc = p50Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha M Tanga Lisa', p50Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20240517104309_whatsappimage20240517at10183128129_e.jpeg', 'manual-50');
        const p51Base = 19.99;
        const p51Calc = p51Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha Fio Micro Lisa', p51Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20231002174846_whatsappimage20231002at174112_e.jpeg', 'manual-51');
        const p52Base = 19.56;
        const p52Calc = p52Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha MicroFibra Dupla', p52Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20240517102516_whatsappimage20240517at101916_e.jpeg', 'manual-52');
        const p53Base = 19.54;
        const p53Calc = p53Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha Fio MicroFibra Dupla', p53Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20230911095939_whatsappimage20230904at105708_e.jpeg', 'manual-53');
        const p54Base = 19.67;
        const p54Calc = p54Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha Renda MicroFibra', p54Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20230818142755_whatsappimage20230818at141504_e.jpeg', 'manual-54');
        const p55Base = 16.76;
        const p55Calc = p55Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha String Fio Renda', p55Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20230623165155_whatsappimage20230623at14352228229_e.jpg', 'manual-55');
        const p56Base = 19.77;
        const p56Calc = p56Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha Cos Largo Fio', p56Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20230815143028_whatsappimage20230815at142018_e.jpeg', 'manual-56');
        const p57Base = 19.78;
        const p57Calc = p57Base * MARGEM_LUCRO;
        list.innerHTML += generateHTML('Calcinha Fio D Delicotton', p57Calc, 'https://imagens.viashopmoda.com.br/upload/Goiania_Intuicao/colecoes/19/20230818144857_whatsappimage20230818at140055_e.jpeg', 'manual-57');
    }

    // Inicia a função ao carregar a página
    window.onload = initProducts;
</script>
    <script>

        function generateHTML(name, price, img, id) {
            return `
            <div class="product-card group">
                <div class="relative overflow-hidden bg-gray-50 aspect-[3/4] rounded-3xl shadow-md border border-gray-100">
                    <img src="${img}" class="product-img w-full h-full object-cover">
                    <div class="absolute bottom-0 w-full p-2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1 bg-black/20 backdrop-blur-sm">
                        <select id="color-${id}" class="attr-select"><option>Preto</option><option>Branco</option><option>Rosa</option></select>
                        <select id="size-${id}" class="attr-select"><option>P</option><option>M</option><option>G</option><option>GG</option></select>
                        <button onclick="addWithAttrs('${name}', ${price}, '${img}', '${id}')" class="w-full bg-black text-white py-3 text-[10px] font-bold uppercase rounded-lg">Adicionar</button>
                    </div>
                </div>
                <div class="mt-4 text-center px-2">
                    <h4 class="text-[10px] text-gray-400 uppercase font-bold tracking-tighter">${name}</h4>
                    <p class="font-bold text-base mt-1 text-black">R$ ${price.toFixed(2).replace('.',',')}</p>
                </div>
            </div>`;
        }

        function toggleCart() { document.getElementById('cart-sidebar').classList.toggle('translate-x-full'); }

        function openPaymentModal() { document.getElementById('payment-modal').classList.remove('hidden'); }
        function closePaymentModal() { document.getElementById('payment-modal').classList.add('hidden'); }
        
        function confirmarDadosAppmax() {
            const name = document.getElementById('cust-name').value;
            const email = document.getElementById('cust-email').value;
            const cpf = document.getElementById('cust-cpf').value;
            if(!name || !email || !cpf) { alert("Preencha todos os campos para continuar."); return; }
            customerData = { name, email, cpf, phone: document.getElementById('cust-phone').value };
            closePaymentModal();
            finalizarPagamentoAppmax();
        }

        function addWithAttrs(name, price, img, id) {
            const color = document.getElementById(`color-${id}`).value;
            const size = document.getElementById(`size-${id}`).value;
            cart.push({name: `${name} (${color}/${size})`, price, img});
            updateCart();
            toggleCart();
        }

        function updateCart() {
            const content = document.getElementById('cart-content');
            const totalEl = document.getElementById('cart-total');
            const msg = document.getElementById('min-order-msg');
            const btn = document.getElementById('btn-checkout-appmax');
            let total = 0;
            content.innerHTML = cart.length ? '' : '<p class="text-center py-10 text-[10px] uppercase font-bold text-gray-400 tracking-widest">Sua sacola está vazia</p>';
            
            cart.forEach((item, i) => {
                total += item.price;
                content.innerHTML += `
                <div class="flex gap-4 border-b pb-3 items-center group">
                    <img src="${item.img}" class="w-12 h-16 object-cover rounded-xl shadow-md border border-gray-100">
                    <div class="flex-1">
                        <p class="text-[9px] font-bold uppercase tracking-tighter text-gray-800">${item.name}</p>
                        <p class="text-pink-600 font-bold text-sm">R$ ${item.price.toFixed(2)}</p>
                    </div>
                </div>`;
            });
            
            totalEl.innerText = `R$ ${total.toFixed(2)}`;
            document.getElementById('cart-count').innerText = cart.length;
            if(total >= MIN_ORDER) {
                msg.innerText = "✓ Pedido Mínimo Atingido"; msg.className = "text-green-600 p-3 text-center font-bold uppercase text-[10px]";
                btn.disabled = false; btn.className = "w-full bg-blue-700 text-white py-4 font-bold uppercase text-[12px] shadow-xl hover:bg-blue-800 transition-all rounded-2xl";
            } else {
                msg.innerText = `Faltam R$ ${(MIN_ORDER - total).toFixed(2)} para o atacado`; msg.className = "text-red-600 p-3 text-center font-bold uppercase text-[10px]";
                btn.disabled = true; btn.className = "w-full bg-gray-300 text-white py-4 font-bold uppercase text-[12px] cursor-not-allowed rounded-2xl";
            }
        }

        async function finalizarPagamentoAppmax() {
            const btn = document.getElementById('btn-checkout-appmax');
            const originalText = btn.innerText;
            btn.innerText = "GERANDO CHECKOUT SEGURO...";
            btn.disabled = true;

            try {
                const totalRaw = document.getElementById('cart-total').innerText;
                const totalNum = parseFloat(totalRaw.replace('R$ ', '').replace('.', '').replace(',', '.'));
                const payload = {
                    total: totalNum,
                    customer: customerData,
                    products: cart.map(item => ({ name: item.name, qty: 1, price: item.price }))
                };
                
                const response = await fetch(awsEndpoint, {
                    method: 'POST',
                    mode: 'cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const textData = await response.text();
                let result;
                try { result = JSON.parse(textData); } catch (e) { throw new Error("Erro na resposta"); }
                if (result.url) { window.location.href = result.url; } 
                else { alert("Erro Appmax: " + (result.error || "Dados inválidos")); }
            } catch (error) {
                alert("Erro na conexão segura. Tente novamente.");
            } finally {
                btn.innerText = originalText;
                btn.disabled = false;
            }
        }


        const slides = document.querySelectorAll('#main-carousel img');
        let cur = 0;
        setInterval(() => {
            slides[cur].classList.remove('active');
            cur = (cur + 1) % slides.length;
            slides[cur].classList.add('active');
        }, 4500);

        initProducts();
    </script>
</body>
</html>
